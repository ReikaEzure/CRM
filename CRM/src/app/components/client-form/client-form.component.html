<div>
    <h2>Add New Client</h2>
    <form [formGroup]="clientForm" (ngSubmit)="onSubmit()">
        <div class="form-group">
            <label>Company Name</label>
            <input [class.is-invalid]="companyName.invalid && companyName.touched" 
            formControlName="companyName" type="text" class="form-control">
            <div *ngIf="companyName.invalid && companyName.touched">
                <small *ngIf="companyName.errors?.required" class="text-danger">Company Name is required</small>
                <small *ngIf="companyName.errors?.minlength" class="text-danger">Company Name must be 3 caracter</small>
            </div>
        </div>

        <div class="form-group">
            <label>NIF</label>
            <input formControlName="nif" type="text" class="form-control"
            [class.is-invalid]="nif.invalid && nif.touched">
            <small class="text-danger" [class.d-none]="nif.valid || nif.untouched">NIF is required</small>
        </div>

        <div class="form-group">
            <label>Industry</label>
            <input formControlName="industry" type="text" class="form-control"
                [class.is-invalid]="industry.invalid && industry.touched">
            <small class="text-danger" [class.d-none]="industry.valid || industry.untouched">Industry is required</small>
        </div>

        <div class="form-group">
            <label>Email</label>
            <input [class.is-invalid]="email.invalid && email.touched"
            formControlName="email" type="text" class="form-control">
            <small class="text-danger" [class.d-none]="email.valid || email.untouched">Email is required</small>
        </div>

        <div class="form-group">
            <label>Preference</label>
            <input type="text" formControlName="preference" class="form-control" >
        </div>

        <div class="form-group">
            <label>Client type</label>
            <select class="custom-select" (change)="changeClientType($event)" formControlName="clientType">
              <option value="" disabled>Choose the client type</option>
              <option *ngFor="let ct of clientTypes" [ngValue]="ct.idClientType">{{ ct.type }}</option>
            </select>
          </div>

        <div class="form-group">
            <label>Phone</label>
            <button type="button" class="btn btn-secondary btn-sm m-2" (click)="addAlternatePhones()">Add Phone Number</button>
            <input [class.is-invalid]="phone.invalid && phone.touched" type="text" formControlName="phone" class="form-control" >
            <small class="text-danger" [class.d-none]="phone.valid || phone.untouched">phone is required</small>
            <div formArrayName="alternatePhones" *ngFor="let phone of alternatePhones.controls; let i=index">
                <input type="text" class="form-control my-1" [formControlName]="i">
            </div>
        </div>

        <div formGroupName="address">
            <div class="form-group">
              <label>Street</label>
              <input type="text" class="form-control" formControlName="street" >
            </div>
            <div class="form-group">
              <label>City</label>
              <input type="text" class="form-control" formControlName="city" >
            </div>
            <div class="form-group">
              <label>State</label>
              <input type="text" class="form-control" formControlName="state" >
            </div>
            <div class="form-group">
                <label>Country</label>
                <input type="text" class="form-control" formControlName="country" >
            </div>
            <div class="form-group">
              <label>Postal Code</label>
              <input type="text" class="form-control" formControlName="postalCode" >
            </div>
        </div>

        <div formGroupName="sns">
            <label>SNS</label>
            <button type="button" class="btn btn-secondary btn-sm m-2" (click)="addOtherSns()">Add SNS</button>
            <div class="form-group">
                <select class="custom-select" (change)="changeSnsType($event)" formControlName="snsType">
                    <option value="" disabled>Choose</option>
                    <option *ngFor="let sns of snsTypes" [ngValue]="sns">{{ sns }}</option>
                </select>
            </div>
            <div class="form-group">
                <input type="text" formControlName="url" class="form-control" >
            </div>  
            
        </div>
        <div class="form-group">
            <div formArrayName="otherSns" *ngFor="let sns of otherSns.controls; let i=index">
                <input type="text" class="form-control my-1" [formControlName]="i">
            </div>
        </div>  

        <button class="btn btn-primary" [disabled]="!clientForm.valid" type="submit">Register</button>
    
    </form>
</div>